pipeline{
    agent any
    stages {
        stage ('Get project from Github'){
            steps{
                script{
                    checkout([$class: 'GitSCM', branches: [[name: '*/main']],
                        userRemoteConfigs: [[
                            credentialsId: 'MyGithub',
                            url: 'https://github.com/amine-souki/backend_CICD.git']]])
                }
            }
        }
        stage('Cleaning the project') {
            steps{
                sh 'mvn -B -DskipTests clean ' 
            }
        }
        stage('Artifact Construction') {
            steps{
                sh 'mvn -B -DskipTests package' 
            }
        }

    }
}
       
